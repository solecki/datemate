@model DateMate.Entities.User
@{
	ViewBag.Title = "Edit account settings";
}

<div id="content-top">
	<h1>Edit information</h1>

	@using (Html.BeginForm("Edit", "User", FormMethod.Post, new { @enctype = "multipart/form-data" }))
	{
		@Html.AntiForgeryToken()

		@* Edit account form. *@
		<h2>Profile</h2>
		@Html.ValidationSummary(true)
		@Html.HiddenFor(model => model.Id)
		<div class="form-group">
			@Html.LabelFor(model => model.FirstName)
			<div class="col-md-10">
				@Html.EditorFor(model => model.FirstName)
				@Html.ValidationMessageFor(model => model.FirstName)
			</div>
		</div>
		<div class="form-group">
			@Html.LabelFor(model => model.Surname)
			<div class="col-md-10">
				@Html.EditorFor(model => model.Surname)
				@Html.ValidationMessageFor(model => model.Surname)
			</div>
		</div>
		<div class="form-group">
			@Html.LabelFor(model => model.BirthDate)
			<div class="col-md-10">
				@Html.EditorFor(model => model.BirthDate)
				@Html.ValidationMessageFor(model => model.BirthDate)
			</div>
		</div>
		<div class="form-group">
			@Html.LabelFor(model => model.Picture)
			<div class="col-md-10">
				<input type="file" name="uploadedImage" id="fileUpload" accept=".png,.jpg,.jpeg,.gif" />
			</div>
		</div>

		<h2>Account</h2>
		@Html.Hidden("LoginName")
		<div class="form-group">
			<label for="newPassword">New password</label>
			<div class="col-md-10">
				@Html.TextBox("newPassword", "", new { type = "password" })
				<span class="field-validation-error" data-valmsg-for="newPassword" data-valmsg-replace="true">
				</span>
			</div>
		</div>
		<div class="form-group">
			<label for="passwordConfirmation">Confirm password</label>
			<div class="col-md-10">
				@Html.TextBox("passwordConfirmation", "", new { type = "password" })
				<span class="field-validation-error" data-valmsg-for="passwordConfirmation" data-valmsg-replace="true">
				</span>
			</div>
		</div>
		<div class="form-group">
			<label for="oldPassword">Old password</label>
			<div class="col-md-10">
				@Html.TextBox("oldPassword", "", new { type = "password" })
				<span class="field-validation-error" data-valmsg-for="oldPassword" data-valmsg-replace="true">
				</span>
			</div>
		</div>
		<div class="form-group">
			@Html.LabelFor(model => model.EmailAddress)
			<div class="col-md-10">
				@Html.EditorFor(model => model.EmailAddress)
				@Html.ValidationMessageFor(model => model.EmailAddress)
			</div>
		</div>
		<div class="form-group">
			@Html.LabelFor(model => model.Searchable, "Display account in search results")
			<div class="checkbox">
				@Html.EditorFor(model => model.Searchable)
				@Html.ValidationMessageFor(model => model.Searchable)
			</div>
		</div>
		<div class="form-group">
			<input type="submit" value="Save" class="btn btn-default" />
		</div>
	}
</div>

@section Scripts {
	@Scripts.Render("~/bundles/jqueryval")
}
